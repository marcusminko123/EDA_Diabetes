---
title: "EDA_diabetes"
output: html_document
---

```{r get data}
library(readr)
diabetes_012_health_indicators_BRFSS2015 <-    read_csv("~/Downloads/archive/diabetes_012_health_indicators_BRFSS2015.csv")

#change name of dataset

db <- diabetes_012_health_indicators_BRFSS2015

library(tidyverse)

#summarize data

glimpse(db)

#plot the distribution of BMI scores

db %>% 
       ggplot(aes(x = BMI)) + geom_histogram(fill = "steel blue") +theme_linedraw()

#facet by sex
db %>% 
ggplot(aes(x = BMI)) + geom_histogram(fill = "steel blue") + theme_linedraw()+ facet_wrap(~Sex)

#filter out the prediabetics, mutate, select
db_new <- db %>% 
                filter(Diabetes_012 != 1) %>% 
                mutate(Diabetes = recode(Diabetes_012, "0" = "Normal", "2" = "Diabetic")) 

#Recode Smoking status and Heart Attack/Disease from numeric to descriptive characters

db_new1 <- db_new %>% 
         mutate(Smoking = recode(Smoker, "0" = "Non-Smoker", "1" = "Smoker")) 
              
                
db_new2 <- db_new1 %>%
      mutate(Heart_Attack_Disease = recode(HeartDiseaseorAttack, "0" = "NO", "1" = "YES"))              
                  


#plot

db_new2 %>% 
           ggplot(aes(x = Heart_Attack_Disease)) + geom_bar (fill = "steel blue") + facet_grid(Diabetes ~ Smoking, scales = "free") + theme_minimal()
```
